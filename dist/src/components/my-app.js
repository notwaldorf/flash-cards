var _extends2=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function compose(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var _extends=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function applyMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,a,r){var i=e(n,a,r),s=i.dispatch,d=[],o={getState:i.getState,dispatch:function(e){return s(e)}};return d=t.map(function(e){return e(o)}),s=compose.apply(void 0,d)(i.dispatch),_extends({},i,{dispatch:s})}}}function isPlainObject(e){return!!e&&Object.is(e.constructor,Object)}var ActionTypes={INIT:'@@redux/INIT'};function createStore(e,t,n){function a(){o===d&&(o=d.slice())}function r(e){if(!isPlainObject(e))throw new Error('Actions must be plain objects. Use custom middleware for async actions.');if('undefined'==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error('Reducers may not dispatch actions.');try{l=!0,s=i(s,e)}finally{l=!1}for(var t,n=d=o,a=0;a<n.length;a++)t=n[a],t();return e}if('function'==typeof t&&'undefined'==typeof n&&(n=t,t=void 0),'undefined'!=typeof n){if('function'!=typeof n)throw new Error('Expected the enhancer to be a function.');return n(createStore)(e,t)}if('function'!=typeof e)throw new Error('Expected the reducer to be a function.');var i=e,s=t,d=[],o=d,l=!1;return r({type:ActionTypes.INIT}),{dispatch:r,subscribe:function(e){if('function'!=typeof e)throw new Error('Expected listener to be a function.');var t=!0;return a(),o.push(e),function(){if(t){t=!1,a();var n=o.indexOf(e);o.splice(n,1)}}},getState:function(){return s},replaceReducer:function(e){if('function'!=typeof e)throw new Error('Expected the nextReducer to be a function.');i=e,r({type:ActionTypes.INIT})}}}var createStore$1={ActionTypes:ActionTypes,default:createStore};function warning(e){'undefined'!=typeof console&&'function'==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}function getUndefinedStateErrorMessage(e,t){var n=t&&t.type,a=n&&'"'+n.toString()+'"'||'an action';return'Given action '+a+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(e,t,n,a){var r=Object.keys(t),i=n&&n.type===ActionTypes.INIT?'preloadedState argument passed to createStore':'previous state received by the reducer';if(0===r.length)return'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.';if(!isPlainObject(e))return'The '+i+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var s=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!a[e]});if(s.forEach(function(e){a[e]=!0}),0<s.length)return'Unexpected '+(1<s.length?'keys':'key')+' '+('"'+s.join('", "')+'" found in '+i+'. Expected to find one of the known reducer keys instead: ')+('"'+r.join('", "')+'". Unexpected keys will be ignored.')}function assertReducerShape(e){Object.keys(e).forEach(function(t){var n=e[t],a=n(void 0,{type:ActionTypes.INIT});if('undefined'==typeof a)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don\'t want to set a value for this reducer, you can use null instead of undefined.');var r='@@redux/PROBE_UNKNOWN_ACTION_'+Math.random().toString(36).substring(7).split('').join('.');if('undefined'==typeof n(void 0,{type:r}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+('Don\'t try to handle '+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.'))})}var showWarnings='undefined'!=typeof process&&process.env&&'production'!==process.env.NODE_ENV;function combineReducers(e){for(var t,n=Object.keys(e),a={},r=0;r<n.length;r++)t=n[r],showWarnings&&'undefined'==typeof e[t]&&warning('No reducer provided for key "'+t+'"'),'function'==typeof e[t]&&(a[t]=e[t]);var i,s=Object.keys(a);showWarnings&&(i={});var d;try{assertReducerShape(a)}catch(t){d=t}return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1];if(d)throw d;if(showWarnings){var n=getUnexpectedStateShapeWarningMessage(e,a,t,i);n&&warning(n)}for(var r=!1,o={},l=0;l<s.length;l++){var p=s[l],_=a[p],u=e[p],c=_(u,t);if('undefined'==typeof c){var g=getUndefinedStateErrorMessage(p,t);throw new Error(g)}o[p]=c,r=r||c!==u}return r?o:e}}window.JSCompiler_renameProperty=function(e){return e};let Polymer,dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications,MixinFunction.prototype.__mixinSet;const dedupingMixin=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let n=dedupeId++;return function(a){let r=a.__mixinSet;if(r&&r[n])return a;let i=t,s=i.get(a);s||(s=e(a),i.set(a,s));let d=Object.create(s.__mixinSet||r||null);return d[n]=!0,s.__mixinSet=d,s}};var mixin={dedupingMixin:dedupingMixin};let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode('');new window.MutationObserver(microtaskFlush).observe(microtaskNode,{characterData:!0});function microtaskFlush(){const e=microtaskCallbacks.length;for(let t,n=0;n<e;n++)if(t=microtaskCallbacks[n],t)try{t()}catch(t){setTimeout(()=>{throw t})}microtaskCallbacks.splice(0,e),microtaskLastHandle+=e}const timeOut={after(e){return{run(t){return window.setTimeout(t,e)},cancel(e){window.clearTimeout(e)}}},run(e,t){return window.setTimeout(e,t)},cancel(e){window.clearTimeout(e)}},animationFrame={run(e){return window.requestAnimationFrame(e)},cancel(e){window.cancelAnimationFrame(e)}},idlePeriod={run(e){return window.requestIdleCallback?window.requestIdleCallback(e):window.setTimeout(e,16)},cancel(e){window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},microTask={run(e){return microtaskNode.textContent=microtaskNodeContent++,microtaskCallbacks.push(e),microtaskCurrHandle++},cancel(e){const t=e-microtaskLastHandle;if(0<=t){if(!microtaskCallbacks[t])throw new Error('invalid async handle: '+e);microtaskCallbacks[t]=null}}};var async={timeOut:timeOut,animationFrame:animationFrame,idlePeriod:idlePeriod,microTask:microTask};const microtask=microTask,PropertiesChanged=dedupingMixin((e)=>{return class extends e{static createProperties(e){const t=this.prototype;for(let n in e)n in t||t._createPropertyAccessor(n)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){if(this.hasOwnProperty('__dataAttributes')||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[e]){const t=this.constructor.attributeNameForProperty(e);this.__dataAttributes[t]=e}}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this._getProperty(e)},set:t?function(){}:function(t){this._setProperty(e,t)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t){let n=this.__data[e],a=this._shouldPropertyChange(e,t,n);return a&&(!this.__dataPending&&(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=n),this.__data[e]=t,this.__dataPending[e]=t),a}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,microtask.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n))}_shouldPropertiesChange(e,t){return!!t}_propertiesChanged(){}_shouldPropertyChange(e,t,n){return n!==t&&(n===n||t===t)}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n)}_attributeToProperty(e,t,n){if(!this.__serializing){const a=this.__dataAttributes,r=a&&a[e]||e;this[r]=this._deserializeValue(t,n||this.constructor.typeForProperty(r))}}_propertyToAttribute(e,t,n){this.__serializing=!0,n=3>arguments.length?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,n){const a=this._serializeValue(t);a===void 0?e.removeAttribute(n):e.setAttribute(n,a)}_serializeValue(e){switch(typeof e){case'boolean':return e?'':void 0;default:return null==e?void 0:e.toString();}}_deserializeValue(e,t){return t===Boolean?null!==e:t===Number?+e:e}}});var propertiesChanged={PropertiesChanged:PropertiesChanged};function normalizeProperties(e){const t={};for(let n in e){const a=e[n];t[n]='function'==typeof a?{type:a}:a}return t}const PropertiesMixin=dedupingMixin((e)=>{function t(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof r?t:null}function n(e){if(!e.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',e))){let t=null;e.hasOwnProperty(JSCompiler_renameProperty('properties',e))&&e.properties&&(t=normalizeProperties(e.properties)),e.__ownProperties=t}return e.__ownProperties}const a=PropertiesChanged(e);class r extends a{static get observedAttributes(){const e=this._properties;return e?Object.keys(e).map((e)=>this.attributeNameForProperty(e)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__finalized',this))){const e=t(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=n(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__properties',this))){const e=t(this);this.__properties=Object.assign({},e&&e._properties,n(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r});var propertiesMixin={PropertiesMixin:PropertiesMixin};const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;function dashToCamelCase(e){return caseMap[e]||(caseMap[e]=0>e.indexOf('-')?e:e.replace(DASH_TO_CAMEL,(e)=>e[1].toUpperCase()))}function camelToDashCase(e){return caseMap[e]||(caseMap[e]=e.replace(CAMEL_TO_DASH,'-$1').toLowerCase())}var caseMap$1={dashToCamelCase:dashToCamelCase,camelToDashCase:camelToDashCase};const templateCaches=new Map,html=(e,...t)=>new TemplateResult(e,t,'html'),svg=(e,...t)=>new SVGTemplateResult(e,t,'svg');class TemplateResult{constructor(e,t,n,a=defaultPartCallback){this.strings=e,this.values=t,this.type=n,this.partCallback=a}getHTML(){const e=this.strings.length-1;let t='',n=!0;for(let a=0;a<e;a++){const e=this.strings[a];t+=e;const r=findTagClose(e);n=-1<r?r<e.length:n,t+=n?nodeMarker:marker}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement('template');return e.innerHTML=this.getHTML(),e}}class SVGTemplateResult extends TemplateResult{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),reparentNodes(t,n.firstChild),e}}function defaultTemplateFactory(e){let t=templateCaches.get(e.type);void 0===t&&(t=new Map,templateCaches.set(e.type,t));let n=t.get(e.strings);return void 0===n&&(n=new Template(e,e.getTemplateElement()),t.set(e.strings,n)),n}function render(e,t,n=defaultTemplateFactory){const a=n(e);let r=t.__templateInstance;if(void 0!==r&&r.template===a&&r._partCallback===e.partCallback)return void r.update(e.values);r=new TemplateInstance(a,e.partCallback,n),t.__templateInstance=r;const i=r._clone();r.update(e.values),removeNodes(t,t.firstChild),t.appendChild(i)}const marker=`{{lit-${(Math.random()+'').slice(2)}}}`,nodeMarker=`<!--${marker}-->`,markerRegex=new RegExp(`${marker}|${nodeMarker}`),lastAttributeNameRegex=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function findTagClose(e){const t=e.lastIndexOf('>'),n=e.indexOf('<',t+1);return-1<n?e.length:t}class TemplatePart{constructor(e,t,n,a,r){this.type=e,this.index=t,this.name=n,this.rawName=a,this.strings=r}}class Template{constructor(e,t){this.parts=[],this.element=t;const n=this.element.content,a=document.createTreeWalker(n,133,null,!1);let r=-1,i=0;const s=[];for(let n,d;a.nextNode();){r++,n=d;const t=d=a.currentNode;if(1===t.nodeType){if(!t.hasAttributes())continue;const n=t.attributes;let a=0;for(let e=0;e<n.length;e++)0<=n[e].value.indexOf(marker)&&a++;for(;0<a--;){const a=e.strings[i],s=lastAttributeNameRegex.exec(a)[1],d=n.getNamedItem(s),o=d.value.split(markerRegex);this.parts.push(new TemplatePart('attribute',r,d.name,s,o)),t.removeAttribute(d.name),i+=o.length-1}}else if(3===t.nodeType){const e=t.nodeValue;if(0>e.indexOf(marker))continue;const n=t.parentNode,a=e.split(markerRegex),s=a.length-1;i+=s,t.textContent=a[s];for(let e=0;e<s;e++)n.insertBefore(document.createTextNode(a[e]),t),this.parts.push(new TemplatePart('node',r++))}else if(8===t.nodeType&&t.nodeValue===marker){const e=t.parentNode,a=t.previousSibling;null===a||a!==n||a.nodeType!==Node.TEXT_NODE?e.insertBefore(document.createTextNode(''),t):r--,this.parts.push(new TemplatePart('node',r++)),s.push(t),null===t.nextSibling?e.insertBefore(document.createTextNode(''),t):r--,d=n,i++}}for(const a of s)a.parentNode.removeChild(a)}}const getValue=(e,t)=>isDirective(t)?(t=t(e),directiveValue):null===t?void 0:t,directive=(e)=>(e.__litDirective=!0,e),isDirective=(e)=>'function'==typeof e&&!0===e.__litDirective,directiveValue={},isPrimitiveValue=(e)=>null===e||'object'!=typeof e&&'function'!=typeof e;class AttributePart{constructor(e,t,n,a){this.instance=e,this.element=t,this.name=n,this.strings=a,this.size=a.length-1,this._previousValues=[]}_interpolate(e,t){const n=this.strings,a=n.length-1;let r='';for(let s=0;s<a;s++){r+=n[s];const a=getValue(this,e[t+s]);if(a&&a!==directiveValue&&(Array.isArray(a)||'string'!=typeof a&&a[Symbol.iterator]))for(const e of a)r+=e;else r+=a}return r+n[a]}_equalToPreviousValues(e,t){for(let n=t;n<t+this.size;n++)if(this._previousValues[n]!==e[n]||!isPrimitiveValue(e[n]))return!1;return!0}setValue(e,t){if(this._equalToPreviousValues(e,t))return;const n=this.strings;let a;2===n.length&&''===n[0]&&''===n[1]?(a=getValue(this,e[t]),Array.isArray(a)&&(a=a.join(''))):a=this._interpolate(e,t),a!==directiveValue&&this.element.setAttribute(this.name,a),this._previousValues=e}}class NodePart{constructor(e,t,n){this.instance=e,this.startNode=t,this.endNode=n,this._previousValue=void 0}setValue(e){if(e=getValue(this,e),e!==directiveValue)if(isPrimitiveValue(e)){if(e===this._previousValue)return;this._setText(e)}else e instanceof TemplateResult?this._setTemplateResult(e):Array.isArray(e)||e[Symbol.iterator]?this._setIterable(e):e instanceof Node?this._setNode(e):void 0===e.then?this._setText(e):this._setPromise(e)}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_setNode(e){this._previousValue===e||(this.clear(),this._insert(e),this._previousValue=e)}_setText(e){const t=this.startNode.nextSibling;e=e===void 0?'':e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._setNode(document.createTextNode(e)),this._previousValue=e}_setTemplateResult(e){const t=this.instance._getTemplate(e);let n;this._previousValue&&this._previousValue.template===t?n=this._previousValue:(n=new TemplateInstance(t,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(e.values)}_setIterable(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const t=this._previousValue;let n=0;for(const a of e){let e=t[n];if(e===void 0){let a=this.startNode;if(0<n){const e=t[n-1];a=e.endNode=document.createTextNode(''),this._insert(a)}e=new NodePart(this.instance,a,this.endNode),t.push(e)}e.setValue(a),n++}if(0==n)this.clear(),this._previousValue=void 0;else if(n<t.length){const e=t[n-1];t.length=n,this.clear(e.endNode.previousSibling),e.endNode=this.endNode}}_setPromise(e){this._previousValue=e,e.then((t)=>{this._previousValue===e&&this.setValue(t)})}clear(e=this.startNode){removeNodes(this.startNode.parentNode,e.nextSibling,this.endNode)}}const defaultPartCallback=(e,t,n)=>{if('attribute'===t.type)return new AttributePart(e,n,t.name,t.strings);if('node'===t.type)return new NodePart(e,n,n.nextSibling);throw new Error(`Unknown part type ${t.type}`)};class TemplateInstance{constructor(e,t,n){this._parts=[],this.template=e,this._partCallback=t,this._getTemplate=n}update(e){let t=0;for(const n of this._parts)void 0===n.size?(n.setValue(e[t]),t++):(n.setValue(e,t),t+=n.size)}_clone(){const e=document.importNode(this.template.element.content,!0),t=this.template.parts;if(0<t.length){const n=document.createTreeWalker(e,133,null,!1);let a=-1;for(let e=0;e<t.length;e++){const r=t[e];for(;a<r.index;)a++,n.nextNode();this._parts.push(this._partCallback(this,r,n.currentNode))}}return e}}const reparentNodes=(e,t,n=null,a=null)=>{for(let r=t;r!==n;){const t=r.nextSibling;e.insertBefore(r,a),r=t}},removeNodes=(e,t,n=null)=>{for(let a=t;a!==n;){const t=a.nextSibling;e.removeChild(a),a=t}};var litHtml={templateCaches:templateCaches,html:html,svg:svg,TemplateResult:TemplateResult,SVGTemplateResult:SVGTemplateResult,defaultTemplateFactory:defaultTemplateFactory,render:render,TemplatePart:TemplatePart,Template:Template,getValue:getValue,directive:directive,directiveValue:directiveValue,AttributePart:AttributePart,NodePart:NodePart,defaultPartCallback:defaultPartCallback,TemplateInstance:TemplateInstance,reparentNodes:reparentNodes,removeNodes:removeNodes};const html$1=(e,...t)=>new TemplateResult(e,t,'html',extendedPartCallback),svg$1=(e,...t)=>new SVGTemplateResult(e,t,'svg',extendedPartCallback),extendedPartCallback=(e,t,n)=>{if('attribute'===t.type){if(t.rawName.startsWith('on-')){const a=t.rawName.slice(3);return new EventPart(e,n,a)}if(t.name.endsWith('$')){const a=t.name.slice(0,-1);return new AttributePart(e,n,a,t.strings)}if(t.name.endsWith('?')){const a=t.name.slice(0,-1);return new BooleanAttributePart(e,n,a,t.strings)}return new PropertyPart(e,n,t.rawName,t.strings)}return defaultPartCallback(e,t,n)};class BooleanAttributePart extends AttributePart{setValue(e,t){const n=this.strings;if(2===n.length&&''===n[0]&&''===n[1]){const n=getValue(this,e[t]);if(n===directiveValue)return;n?this.element.setAttribute(this.name,''):this.element.removeAttribute(this.name)}else throw new Error('boolean attributes can only contain a single expression')}}class PropertyPart extends AttributePart{setValue(e,t){const n=this.strings;let a;this._equalToPreviousValues(e,t)||(a=2===n.length&&''===n[0]&&''===n[1]?getValue(this,e[t]):this._interpolate(e,t),a!==directiveValue&&(this.element[this.name]=a),this._previousValues=e)}}class EventPart{constructor(e,t,n){this.instance=e,this.element=t,this.eventName=n}setValue(e){const t=getValue(this,e),n=this._listener;t===n||(this._listener=t,null!=n&&this.element.removeEventListener(this.eventName,n),null!=t&&this.element.addEventListener(this.eventName,t))}}var litExtended={html:html$1,svg:svg$1,extendedPartCallback:extendedPartCallback,BooleanAttributePart:BooleanAttributePart,PropertyPart:PropertyPart,EventPart:EventPart,render:render};function renderAttributes(e,t){for(const n in t){const a=!0===t[n]?'':t[n];a||''===a||0===a?e.getAttribute(n)!==a&&e.setAttribute(n,a):e.hasAttribute(n)&&e.removeAttribute(n)}}function classString(e){const t=[];for(const n in e){const a=e[n];a&&t.push(n)}return t.join(' ')}function styleString(e){const t=[];for(const n in e){const a=e[n];(a||0===a)&&t.push(`${camelToDashCase(n)}: ${a}`)}return t.join('; ')}class LitElement extends PropertiesMixin(HTMLElement){constructor(){super(...arguments),this.__renderComplete=null,this.__resolveRenderComplete=null,this.__isInvalid=!1,this.__isChanging=!1}ready(){this._root=this._createRoot(),super.ready()}_createRoot(){return this.attachShadow({mode:'open'})}_shouldPropertiesChange(){return!0}_propertiesChanged(e,t,n){this.__isChanging=!0,this.__isInvalid=!1,super._propertiesChanged(e,t,n);const a=this.render(e);a&&this._root&&render(a,this._root),this.didRender(e,t,n),this.__resolveRenderComplete&&this.__resolveRenderComplete(),this.__isChanging=!1}_shouldPropertyChange(e,t,n){const a=super._shouldPropertyChange(e,t,n);return a&&this.__isChanging&&console.trace(`Setting propertyes in response to other properties changing considered harmful. Setting '${e}' from '${this._getProperty(e)}' to '${t}'.`),a}render(){throw new Error('render() not implemented')}didRender(){}invalidate(){this._invalidateProperties()}_invalidateProperties(){this.__isInvalid=!0,super._invalidateProperties()}get renderComplete(){return this.__renderComplete||(this.__renderComplete=new Promise((e)=>{this.__resolveRenderComplete=()=>{this.__resolveRenderComplete=this.__renderComplete=null,e()}}),!this.__isInvalid&&this.__resolveRenderComplete&&this.__resolveRenderComplete()),this.__renderComplete}}var litElement={renderAttributes:renderAttributes,classString:classString,styleString:styleString,LitElement:LitElement,html:html$1};const keyMapCache=new WeakMap;function cleanMap(e,t,n){e.startNode.parentNode||n.delete(t)}function repeat(e,t,n){let a;return 2===arguments.length?n=t:3===arguments.length&&(a=t),directive((t)=>{if(!(t instanceof NodePart))throw new Error('repeat can only be used on NodeParts');let r=keyMapCache.get(t);void 0===r&&(r=new Map,keyMapCache.set(t,r));const i=t.startNode.parentNode;let s=-1,d=t.startNode.nextSibling;for(const o of e){let e,l;try{++s,e=n(o,s),l=a?a(o):s}catch(t){console.error(t);continue}let p=r.get(l);if(void 0===p){const e=document.createTextNode(''),n=document.createTextNode('');i.insertBefore(e,d),i.insertBefore(n,d),p=new NodePart(t.instance,e,n),void 0!==l&&r.set(l,p)}else if(d!==p.startNode){const e=p.endNode.nextSibling;d!==e&&reparentNodes(i,p.startNode,e,d)}else d=p.endNode.nextSibling;p.setValue(e)}d!==t.endNode&&(removeNodes(i,d,t.endNode),r.forEach(cleanMap))})}var repeat$1={repeat:repeat};const connect=(e)=>(t)=>class extends t{connectedCallback(){this.__storeUnsubscribe=e.subscribe(()=>this.stateChanged(e.getState())),this.stateChanged(e.getState()),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){this.__storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(){throw new Error('stateChanged() not implemented',this)}};var connectMixin={connect:connect};const lazyReducerEnhancer=function(e){return(t)=>(n,a)=>{let r={};const i=t(n,a);return _extends2({},i,{addReducers(t){this.replaceReducer(e(r=_extends2({},r,t)))}})}};var lazyReducerEnhancer$1={lazyReducerEnhancer:lazyReducerEnhancer};const updateMetadata=({title:e,description:t,url:n,image:a})=>{e&&(document.title=e,_setMeta('property','og:title',document.title),_setMeta('property','twitter:title',document.title)),t&&(_setMeta('property','og:description',t),_setMeta('property','twitter:description',t)),a&&(_setMeta('property','og:image',a),_setMeta('property','twitter:image:src',a)),n=n||document.location.href,_setMeta('property','og:url',n),_setMeta('property','twitter:url',n)};function _setMeta(e,t,n){let a=document.head.querySelector(`meta[${e}="${t}"]`);a||(a=document.createElement('meta'),a.setAttribute(e,t),document.head.appendChild(a)),a.setAttribute('content',n||'')}var metadata={updateMetadata:updateMetadata};const installOfflineWatcher=(e)=>{window.addEventListener('online',()=>e(!1)),window.addEventListener('offline',()=>e(!0)),e(!1===navigator.onLine)};var network={installOfflineWatcher:installOfflineWatcher};const installRouter=(t)=>{document.body.addEventListener('click',(n)=>{if(!(n.defaultPrevented||0!==n.button||n.metaKey||n.ctrlKey||n.shiftKey)){const e=n.composedPath().filter((e)=>'A'===e.tagName)[0];if(!(!e||e.target||e.hasAttribute('download')||'external'===e.getAttribute('rel'))){const a=e.href;if(a&&-1===a.indexOf('mailto:')){const e=window.location,r=e.origin||e.protocol+'//'+e.host;0!==a.indexOf(r)||(n.preventDefault(),a!==e.href&&(window.history.pushState({},'',a),t(e)))}}}}),window.addEventListener('popstate',()=>t(window.location)),t(window.location)};var router={installRouter:installRouter};function createThunkMiddleware(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return'function'==typeof r?r(n,a,e):t(r)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const UPDATE_CARDS='UPDATE_CARDS',SHOW_CARD='SHOW_CARD',GET_RIGHT='GET_RIGHT',GET_WRONG='GET_WRONG',SAVE_CHOICES='SAVE_CHOICES',loadAll=()=>async(e,t)=>{e((await loadFile('hiragana'))),e((await loadFile('katakana'))),e((await loadFile('numbers'))),e((await loadFile('basic-phrases')));const n=t();e(showNewCard(n.data.activeCard))};async function loadFile(e){const t=await fetch(`/src/data/${e}.json`),n=await t.json();return{type:UPDATE_CARDS,cards:n,hint:e}}const showNewCard=(e)=>(t,n)=>{e&&e.index!==void 0||(e=getNewCard(n())),t({type:SHOW_CARD,card:e})},getRight=(e)=>({type:GET_RIGHT,card:e}),getWrong=(e)=>({type:GET_WRONG,card:e}),saveAvailableTypes=(e)=>(t,n)=>{if(e)t({type:SAVE_CHOICES,categories:e});else{const e=n();t({type:SAVE_CHOICES,categories:Object.keys(e.data.cards)})}};function getNewCard(e){var t=Math.floor;const n=e.data.cards;let a=e.data.categories&&0!==e.data.categories.length?e.data.categories:Object.keys(n),r=e.app.showSettings,i=pickCardFromCategories(n,e.data.stats,a,r);for(;null===i.index&&0!==a.length;)a=a.filter((e)=>e!==i.hint),0!==a.length&&(i=pickCardFromCategories(n,e.data.stats,a,r));if(null!==i.index)return i;if(0===a.length){a=Object.keys(n);const e=t(Math.random()*a.length),r=a[e],i=n[r],s=t(Math.random()*i.length),d=getIndexOfCard(i[s],n[r]);return{hint:r,index:d}}}function getIndexOfCard(e,t){for(let n=0;n<t.length;n++)if(e==t[n])return n}function pickCardFromCategories(e,t,n,a){var r=Math.floor;let i,s=r(Math.random()*n.length),d=n[s],o=e[d],l=t?t[d]:[];if(i='onlyNew'===a?o.filter((e)=>void 0===l[e.jp]):'mostlyRight'===a?o.filter((e)=>l[e.jp]&&l[e.jp].right>l[e.jp].wrong):'mostlyWrong'===a?o.filter((e)=>l[e.jp]&&l[e.jp].right<l[e.jp].wrong):o,0===i.length)return{hint:d,index:null};const p=r(Math.random()*i.length),_=getIndexOfCard(i[p],o);return{hint:d,index:_}}var data={UPDATE_CARDS:UPDATE_CARDS,SHOW_CARD:SHOW_CARD,GET_RIGHT:GET_RIGHT,GET_WRONG:GET_WRONG,SAVE_CHOICES:SAVE_CHOICES,loadAll:loadAll,showNewCard:showNewCard,getRight:getRight,getWrong:getWrong,saveAvailableTypes:saveAvailableTypes};const UPDATE_PAGE='UPDATE_PAGE',UPDATE_OFFLINE='UPDATE_OFFLINE',OPEN_SNACKBAR='OPEN_SNACKBAR',CLOSE_SNACKBAR='CLOSE_SNACKBAR',SAVE_SHOW_ANSWER='SAVE_SHOW_ANSWER',SAVE_SHOW_SETTINGS='SAVE_SHOW_SETTINGS',SAVE_SAY_SETTINGS='SAVE_SAY_SETTINGS',LOAD_STATS='LOAD_STATS',navigate=(e)=>(t)=>{const n='/'===e?'play':e.slice(1);t(loadPage(n))},loadPage=(e)=>async(t)=>{switch(e){case'play':await import('./play-page.js').then(({$playPage:e})=>e);break;case'stats':await import('./stats-page.js').then(({$statsPage:e})=>e);break;case'about':await import('./about-page.js').then(({$aboutPage:e})=>e);break;default:e='view404',await import('./my-view404.js').then(({$myView404:e})=>e);}t(updatePage(e))},updatePage=(e)=>({type:UPDATE_PAGE,page:e});let snackbarTimer;const showSnackbar=()=>(e)=>{e({type:OPEN_SNACKBAR}),clearTimeout(snackbarTimer),snackbarTimer=setTimeout(()=>e({type:CLOSE_SNACKBAR}),3e3)},updateOffline=(e)=>({type:UPDATE_OFFLINE,offline:e}),saveShowAnswer=(e)=>({type:SAVE_SHOW_ANSWER,shouldShow:e}),saveShowSettings=(e)=>({type:SAVE_SHOW_SETTINGS,showSettings:e}),saveSaySettings=(e)=>({type:SAVE_SAY_SETTINGS,saySettings:e});var app={UPDATE_PAGE:UPDATE_PAGE,UPDATE_OFFLINE:UPDATE_OFFLINE,OPEN_SNACKBAR:OPEN_SNACKBAR,CLOSE_SNACKBAR:CLOSE_SNACKBAR,SAVE_SHOW_ANSWER:SAVE_SHOW_ANSWER,SAVE_SHOW_SETTINGS:SAVE_SHOW_SETTINGS,SAVE_SAY_SETTINGS:SAVE_SAY_SETTINGS,LOAD_STATS:LOAD_STATS,navigate:navigate,showSnackbar:showSnackbar,updateOffline:updateOffline,saveShowAnswer:saveShowAnswer,saveShowSettings:saveShowSettings,saveSaySettings:saveSaySettings};const app$1=(e={showSettings:'all',saySettings:'demand'},t)=>{switch(t.type){case UPDATE_PAGE:return _extends2({},e,{page:t.page});case UPDATE_OFFLINE:return _extends2({},e,{offline:t.offline});case OPEN_SNACKBAR:return _extends2({},e,{snackbarOpened:!0});case CLOSE_SNACKBAR:return _extends2({},e,{snackbarOpened:!1});case SAVE_SHOW_ANSWER:return _extends2({},e,{showAnswer:t.shouldShow});case SAVE_SHOW_SETTINGS:let n=t.showSettings;return'onlyNew'!==n&&'all'!==n&&'mostlyRight'!==n&&'mostlyWrong'!==n&&(n='all'),_extends2({},e,{showSettings:n});case SAVE_SAY_SETTINGS:let a=t.saySettings;return'demand'!==a&&'start'!==a&&'end'!==a&&(a='demand'),_extends2({},e,{saySettings:a});default:return e;}},saveState=(e)=>{let t=localStorage.getItem('__learn_japanese__')||'{}',n=JSON.stringify(e);'{}'!==(n!=t**n)&&localStorage.setItem('__learn_japanese__',n)},loadState=()=>{let e=localStorage.getItem('__learn_japanese__')||'{}',t=JSON.parse(e);return t?(t.app&&(t.app.snackbarOpened=!1),t.data&&!t.data.categories&&(t.data.categories=[]),t):void 0};var localStorage$1={saveState:saveState,loadState:loadState};const compose$1=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose,store=createStore((e)=>e,loadState(),compose$1(lazyReducerEnhancer(combineReducers),applyMiddleware(thunk)));store.addReducers({app:app$1}),store.subscribe(()=>{saveState(store.getState())});var store$1={store:store};const app$3=(e={cards:{},stats:{},categories:[]},t)=>{switch(t.type){case UPDATE_CARDS:return _extends2({},e,{cards:_extends2({},e.cards,{[t.hint]:t.cards})});case LOAD_STATS:return _extends2({},e,{stats:t.stats});case SHOW_CARD:return _extends2({},e,{activeCard:t.card});case GET_RIGHT:case GET_WRONG:const n=stats(e.stats,t);return _extends2({},e,{stats:n,activeCard:null});return e;case SAVE_CHOICES:return _extends2({},e,{categories:t.categories});default:return e;}},stats=(e={},t)=>{switch(t.type){case GET_RIGHT:case GET_WRONG:var n=_extends2({},e,{[t.card.hint]:byHint(e[t.card.hint],t)});return n;default:return e;}},byHint=(e={},t)=>{const n=t.card;switch(t.type){case GET_RIGHT:case GET_WRONG:return''===n.question?e:_extends2({},e,{[n.question]:question(e[n.question],t)});default:return e;}},question=(e={right:0,wrong:0},t)=>{switch(t.type){case GET_RIGHT:return{right:e.right+1,wrong:e.wrong};case GET_WRONG:return{right:e.right,wrong:e.wrong+1};default:return e;}};class SnackBar extends LitElement{static get properties(){return{active:Boolean}}render(){return html$1`
      <style>
      :host {
        display: block;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 12px;
        background-color: var(--app-dark-text-color);
        color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        text-align: center;
        will-change: transform;
        transform: translate3d(0, 100%, 0);
        transition-property: visibility, transform;
        transition-duration: 0.2s;
        visibility: hidden;
      }
      :host([active]) {
        visibility: visible;
        transform: translate3d(0, 0, 0);
      }
    </style>
    <slot></slot>
    `}}window.customElements.define('snack-bar',SnackBar),store.addReducers({data:app$3});const responsiveWidth='460px';class MyApp extends connect(store)(LitElement){render({page:e,appTitle:t,snackbarOpened:n,offline:a}){if(e&&t){const n=t+' - '+e;updateMetadata({title:n,description:n,url:document.location.href})}return html$1`
    <style>
      :host {
        --app-drawer-width: 256px;
        display: block;

        --app-primary-color: #E91E63;
        --app-dark-text-color: #293237;

        --app-header-background-color: #FAE1D6;
        --app-header-text-color: var(--app-dark-text-color);
        --app-header-selected-color: var(--app-primary-color);

        height: 100vh;
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background-color: var(--app-header-background-color);
        color: var(--app-header-text-color);
        display: flex;
        justify-content: space-between;
        padding: 0 24px;
        box-sizing: border-box;
      }

      [main-title] {
        font-family: 'Pacifico';
        text-transform: lowercase;
        font-size: 30px;
        text-align: left;
      }

      .toolbar-list {
        display: inline-block;
      }

      .toolbar-list a {
        display: inline-block;
        color: var(--app-header-text-color);
        text-decoration: none;
        line-height: 30px;
        padding: 4px 16px;
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
      }

      .toolbar-list a[selected] {
        color: var(--app-header-selected-color);
        border-bottom: 4px solid var(--app-header-selected-color);
      }

      .main-content {
        padding-top: 20px;
      }

      .main-content .page[active] {
        display: block;
      }

      .main-content .page {
        display: none;
      }

      /* Small layout */
      @media (max-width: ${responsiveWidth}) {
        [main-title] {
          font-size: 26px;
        }
        .toolbar-list a {
          font-size: 12px;
          padding: 2px 4px;
        }
      }
    </style>

    <!-- Header -->
    <header>
      <span main-title>${t}</span>
      <nav class="toolbar-list" role="navigation">
        <a selected?="${'play'===e}" href="/play">Play</a>
        <a selected?="${'stats'===e}" href="/stats">Stats</a>
        <a selected?="${'about'===e}" href="/about">About</a>
      </nav>
    </header>

    <!-- Main content -->
    <main class="main-content" role="main">
      <play-page class="page" active?="${'play'===e}"></play-page>
      <stats-page class="page" active?="${'stats'===e}"></stats-page>
      <about-page class="page" active?="${'about'===e}"></about-page>
      <my-view404 class="page" active?="${'view404'===e}"></my-view404>
    </main>

    <snack-bar active?="${n}">
        You are now ${a?'offline':'online'}.
    </snack-bar>
`}static get properties(){return{page:String,appTitle:String,snackbarOpened:Boolean,offline:Boolean}}ready(){super.ready(),installRouter(()=>this._locationChanged()),installOfflineWatcher((e)=>this._offlineChanged(e)),store.dispatch(loadAll())}stateChanged(e){this.page=e.app.page,this.offline=e.app.offline,this.snackbarOpened=e.app.snackbarOpened}_offlineChanged(e){void 0===this.offline||this.offline==e||(store.dispatch(updateOffline(e)),store.dispatch(showSnackbar()))}_locationChanged(){store.dispatch(navigate(window.decodeURIComponent(window.location.pathname)))}}window.customElements.define('my-app',MyApp);class PageViewElement extends LitElement{_shouldPropertiesChange(e){return e.active}static get properties(){return{active:Boolean}}}var pageViewElement={PageViewElement:PageViewElement};const SharedStyles=`
  :host {
    display: block;
    box-sizing: border-box;
    margin: 0 auto;
    padding: 40px;
    max-width: 600px;
  }
  a:link, a:visited {
    color: var(--app-header-selected-color);
    text-decoration: none;
    font-weight: bold;
  }
`;var sharedStyles={SharedStyles:SharedStyles};export{applyMiddleware as $applyMiddlewareDefault,combineReducers as $combineReducersDefault,compose as $composeDefault,createStore$1 as $createStore,createStore as $createStoreDefault,isPlainObject as $isPlainObjectDefault,warning as $warningDefault,litElement as $litElement,propertiesChanged as $propertiesChanged,propertiesMixin as $propertiesMixin,async as $async,caseMap$1 as $caseMap,mixin as $mixin,litExtended as $litExtended,repeat$1 as $repeat,litHtml as $litHtml,connectMixin as $connectMixin,lazyReducerEnhancer$1 as $lazyReducerEnhancer,metadata as $metadata,network as $network,router as $router,thunk as $indexDefault,app as $app,data as $data,pageViewElement as $pageViewElement,sharedStyles as $sharedStyles,localStorage$1 as $localStorage,app$1 as $appDefault,app$3 as $dataDefault,store$1 as $store,ActionTypes,html$1 as html,renderAttributes,classString,styleString,LitElement,PropertiesChanged,PropertiesMixin,timeOut,animationFrame,idlePeriod,microTask,dashToCamelCase,camelToDashCase,dedupingMixin,render,html$1,svg$1 as svg,extendedPartCallback,BooleanAttributePart,PropertyPart,EventPart,repeat,templateCaches,html as html$2,svg as svg$1,TemplateResult,SVGTemplateResult,defaultTemplateFactory,render as render$1,TemplatePart,Template,getValue,directive,directiveValue,AttributePart,NodePart,defaultPartCallback,TemplateInstance,reparentNodes,removeNodes,connect,lazyReducerEnhancer,updateMetadata,installOfflineWatcher,installRouter,UPDATE_PAGE,UPDATE_OFFLINE,OPEN_SNACKBAR,CLOSE_SNACKBAR,SAVE_SHOW_ANSWER,SAVE_SHOW_SETTINGS,SAVE_SAY_SETTINGS,LOAD_STATS,navigate,showSnackbar,updateOffline,saveShowAnswer,saveShowSettings,saveSaySettings,UPDATE_CARDS,SHOW_CARD,GET_RIGHT,GET_WRONG,SAVE_CHOICES,loadAll,showNewCard,getRight,getWrong,saveAvailableTypes,PageViewElement,SharedStyles,saveState,loadState,store};